{"componentChunkName":"component---src-templates-post-template-jsx","path":"/posts/zabbix-custom-key","webpackCompilationHash":"7a70ef12dd73fd1c0448","result":{"data":{"site":{"siteMetadata":{"title":"dongjinjo","subtitle":"","copyright":"© All rights reserved.","menu":[{"label":"Articles","path":"/"},{"label":"Categories","path":"/categories/"},{"label":"Tags","path":"/tags/"}],"author":{"name":"dongjin jo","twitter":"#"},"disqusShortname":"dongjinjo","url":"https://dongjinjo.github.io"}},"markdownRemark":{"id":"a2bdab40-a2ea-5741-9c2b-10d6408e2dee","html":"<blockquote>\n<p>신규 Item Key 생성 및 테스트 진행</p>\n</blockquote>\n<h2>Command 작성</h2>\n<p>예제는 <code class=\"language-text\">mysql -V</code> Command를 통해 신규 Item Key 등록 합니다. </p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># mysql -V</span>\nmysql  Ver <span class=\"token number\">15.1</span> Distrib <span class=\"token number\">5.5</span>.56-MariaDB, <span class=\"token keyword\">for</span> Linux <span class=\"token punctuation\">(</span>x86_64<span class=\"token punctuation\">)</span> using readline <span class=\"token number\">5.1</span></code></pre></div>\n<p><strong>작성 유의사항</strong>\nCommand 결과는 실 데이터만 존재 해야 합니다.\n예) CPU 사용율 : 50% => X, 50 => O\n{: .notice—warning}</p>\n<h2>UserParameter.conf 설정</h2>\n<p>새로운 UserParameter.conf 파일에 Command를 입력합니다. </p>\n<p>형식 : UserParameter=key,command\n{: .notice—info}</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">vi</span> /etc/zabbix/zabbix_agentd/UserParameter_MySQL.conf\n\n<span class=\"token assign-left variable\">UserParameter</span><span class=\"token operator\">=</span>mysql.version,mysql -V</code></pre></div>\n<h2>Agent 재시작</h2>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">service</span> zabbix-agent restart</code></pre></div>\n<h2>테스트</h2>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># zabbix_agentd -t mysql.version</span>\nmysql.version <span class=\"token punctuation\">[</span>t<span class=\"token operator\">|</span>mysql  Ver <span class=\"token number\">15.1</span> Distrib <span class=\"token number\">5.5</span>.56-MariaDB, <span class=\"token keyword\">for</span> Linux <span class=\"token punctuation\">(</span>x86_64<span class=\"token punctuation\">)</span> using readline <span class=\"token number\">5.1</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>신규 Item Key는 설정한 Agent에서만 동작하므로 필요한 모든 Agent에 설정이 필요합니다.\n{: .notice—danger}</p>\n<h2>Reference</h2>\n<ul>\n<li><a href=\"https://www.zabbix.com/documentation/3.2/manual/config/items/userparameters\">https://www.zabbix.com/documentation/3.2/manual/config/items/userparameters</a></li>\n</ul>","fields":{"categorySlug":"/categories/zabbix/","tagSlugs":["/tags/zabbix/","/tags/mysql/","/tags/monitoring/"],"slug":"/posts/zabbix-custom-key"},"frontmatter":{"title":"Custom Key 생성 방법(UserParameter)","tags":["zabbix","mysql","monitoring"],"date":"2018-09-04T00:00:00.000Z","category":"zabbix","description":""}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/zabbix-custom-key"}}}